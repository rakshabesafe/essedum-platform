<div *ngIf="!copyDataset">
    <div *ngIf="cardToggled; else detailView" class="aip-container lfx-u-pad-lr-30">


        <!-- Header Section -->

        <!-- Header -->
        <app-aip-header [cardTitle]="cardTitle" [lastRefreshedTime]="lastRefreshedTime" [showAddButton]="createAuth"
            (search)="filterz($event)" (refresh)="refreshData()" (add)="open()">
        </app-aip-header>

        <!-- Filter Section -->
        <app-aip-filter [servicev1]="servicev1" [tagrefresh]="tagrefresh" [selectedDatasetTypeList]="{ 
                        selectedAdapterType: selectedAdapterType,
                        selectedAdapterInstance:selectedAdapterInstance,
                        selectedIndexNames:selectedIndexNames
                        
                      }" (tagSelected)="tagSelectedEvent($event)"
            (filterStatusChange)="onFilterStatusChange($event)"></app-aip-filter>
        <div *ngIf="loading" role="status" aria-label="Loading cards">
            <app-aip-loading></app-aip-loading>
        </div>

        <!-- Content Area (only shown when not loading) -->
        <ng-container *ngIf="!loading">

            <!-- Cards container -->
            <div *ngIf="filteredCards.length > 0" class="aip-card-container" aria-label="Adapter cards">
                <div class="aip-card-wrapper" *ngFor="let card of filteredCards">
                    <!-- Cards  -->
                    <app-aip-card [servicev1]="servicev1" [card]="card" [editAuth]="editAuth" [deployAuth]="deployAuth"
                        [deleteAuth]="deleteAuth" (viewDetails)="desc(card)" (edit)="navigateTo(card)"
                        (download)="downloadSelectedFile(card)" (delete)="deleteAdapter(card.name)"
                        (copy)="navigate(card)">
                        <!-- Edit Modal Template -->
                        <ng-template #lgContent1 let-modal>
                            <app-datasource-config> </app-datasource-config>
                        </ng-template>
                    </app-aip-card>

                </div>
            </div>

            <!-- Empty state -->
            <app-aip-empty-state *ngIf="shouldShowEmptyState"></app-aip-empty-state>

            <!-- Pagination -->
            <app-aip-pagination *ngIf="filteredCards && filteredCards.length>0" [pageNumber]="pageNumber"
                [noOfPages]="noOfPages" [pageArr]="pageArr" [startIndex]="startIndex" [endIndex]="endIndex"
                [hoverStates]="hoverStates" (prevPage)="prevPage()" (nextPage)="nextPage()"
                (changePage)="changePage($event)">
            </app-aip-pagination>


        </ng-container>
    </div>

    <!-- Detail view template -->

    <ng-template #elseBlock>
        <app-datasource-description [card]="selectedCard" (newItemEvent)="changedToogle($event)"
            [cardToggled]="cardToggled" [datasourceAlias]="selectedCard.alias"></app-datasource-description>
    </ng-template>
</div>
<div *ngIf="copyDataset" class="mt-5 mx-5">

     <div class="col-5">
                    <span *ngIf="!customCreate" style="cursor: pointer;">
                        <mat-icon class="aip-led-icons" (click)="routeBackToList()"
                            [ngStyle]="{'color': isBackHovered ? '#0094ff' : '#0a142f'}" matTooltip="Back"
                            matTooltipPosition="above" (mouseenter)="isBackHovered = true"
                            (mouseleave)="isBackHovered = false">arrow_back</mat-icon>
                    </span>
                    <span class="lfx-u-mar-l-8 header-p-title">Datasets: </span><span class="header-title">Copy
                        Dataset
                    </span>
                </div>
                    <mat-card  *ngIf="copyDataset" class="lfx-card">
                        <mat-card-content>
                            <app-dataset-config *ngIf="copyDataset" [dataset]="selectedCard" [copyDataset]="copyDataset"
                                class="selector-680-92"></app-dataset-config>

                        </mat-card-content>
                    </mat-card>
            
</div>