<div class="lfx-header">

    <!-- Title section -->
    <div class="header-left">
        <mat-icon [ngClass]="{'active': isBackHovered}" (click)="onNavigateBack()" matTooltip="Back"
            [matTooltipPosition]="TOOLTIP_POSITION" (mouseenter)="isBackHovered = true"
            (mouseleave)="isBackHovered = false">arrow_back</mat-icon>
        <h3>{{cardTitle}}</h3>
    </div>

    <!-- Right section -->
    <div class="header-right">
        <!-- Action icons section -->
        <div class="header-actions">
            <div *ngIf="tabValue!='Schema Form' || !formListView"
                class="flex justify-content-end lfx-u-mar-8 align-items-center">
                <div class="lfx-u-mar-8" [ngClass]="isRawData?'':'lfx-u-header-lg'"
                    [ngStyle]="{'color': (isRawData) ? 'grey' : '#0094ff'}">
                    TABLE VIEW
                </div>
                <mat-slider class="example-margin selector-691-21 slider-toggle-width" min="0" max="1" step="1">
                    <input matSliderThumb [value]="isRawData ? 1 : 0" (input)="onToggleView($event.target.value == 1)"
                        aria-label="Toggle Raw Data" />
                </mat-slider>
                <div class="lfx-u-mar-8" [ngClass]="isRawData?'lfx-u-header-lg':''"
                    [ngStyle]="{'color': (!isRawData) ? 'grey' : '#0094ff'}">
                    JSON VIEW
                </div>
            </div>

            <div class="header-search lfx-panel d-flex" [@searchAnimation]="isSearchVisible ? 'visible' : 'hidden'"
                [style.display]="isSearchVisible ? 'flex' : 'none'">
                <!-- Input field -->
                <input type="text" placeholder="Search by Name" class="lfx-panel-input" [(ngModel)]="searchText"
                    (keyup)="onSearch()" (blur)="onInputBlur()" aria-label="Search input">
                <mat-icon [ngClass]="{'active': isSearchHovered}" class="lfx-u-mar-r-8"
                    (mouseenter)="isSearchHovered = true" (mouseleave)="isSearchHovered = false">
                    search
                </mat-icon>
            </div>

            <!-- Search icon with animation -->
            <div *ngIf="!isSearchVisible && !isAnimating" class="action-button">
                <mat-icon [ngClass]="{'active': isSearchHovered}" matTooltip="Search"
                    [matTooltipPosition]="TOOLTIP_POSITION" (mouseenter)="isSearchHovered = true"
                    (mouseleave)="isSearchHovered = false" (click)="toggleSearch($event)" aria-label="Toggle search">
                    search
                </mat-icon>
            </div>

            <!-- Add button (conditionally shown) -->
            <div *ngIf="showAddButton" class="action-button">
                <mat-icon [ngClass]="{'active': isAddHovered}" (click)="onAddClick()" matTooltip="Add"
                    [matTooltipPosition]="TOOLTIP_POSITION" (mouseenter)="isAddHovered = true"
                    (mouseleave)="isAddHovered = false" aria-label="Add new item">
                    add
                </mat-icon>
            </div>

            <!-- Refresh button -->
            <div class="action-button">
                <mat-icon [ngClass]="{'active': isRefreshHovered, 'rotate-icon': isRefreshing}"
                    (click)="onRefreshClick()" matTooltip="Refresh" [matTooltipPosition]="TOOLTIP_POSITION"
                    (mouseenter)="isRefreshHovered = true" (mouseleave)="isRefreshHovered = false"
                    aria-label="Refresh data">
                    autorenew
                </mat-icon>
            </div>
        </div>
    </div>
</div>