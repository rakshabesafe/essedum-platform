<div class="aip-container lfx-u-pad-lr-30" id="mainCtr">

    <div class="lfx-u-mar-b-50">
        <!-- Header Section -->
        <app-aip-header [cardTitle]="CARD_TITLE" [lastRefreshedTime]="lastRefreshedTime" [showAddButton]="createAuth"
            (search)="onSearch($event)" (refresh)="onRefresh()" (add)="createSchema(dropDown)">
        </app-aip-header>
    </div>


    <!-- Loading State -->
    <div *ngIf="loading" role="status" aria-label="Loading cards">
        <app-aip-loading></app-aip-loading>
    </div>

    <!-- Content Area (only shown when not loading) -->
    <ng-container *ngIf="!loading">

        <!-- Cards container -->
        <div *ngIf="paginatedCards.length > 0" class="aip-card-container lfx-u-pad-b-85" id="containerDivForScroll"
            aria-label="Schema cards">
            <div class="aip-card-wrapper" *ngFor="let card of paginatedCards; trackBy: trackByCardId">

                <!-- Cards  -->
                <app-aip-card [servicev1]="SERVICE_V1" [card]="card" [editAuth]="editAuth" [deployAuth]="deployAuth"
                    [deleteAuth]="'true'" (viewDetails)="details(card,'view')" (edit)="details(card,'edit',dropDown)"
                    (delete)="deleteSchema(card)">
                </app-aip-card>
            </div>
        </div>

        <!-- Empty state -->
        <app-aip-empty-state *ngIf="shouldShowEmptyState"></app-aip-empty-state>

        <!-- Pagination -->
        <app-aip-pagination *ngIf="shouldShowPagination" [pageNumber]="pageNumber" [noOfPages]="noOfPages"
            [pageArr]="pageArr" [startIndex]="startIndex" [endIndex]="endIndex" [hoverStates]="hoverStates"
            (prevPage)="onPrevPage()" (nextPage)="onNextPage()" (changePage)="onChangePage($event)">
        </app-aip-pagination>
    </ng-container>
</div>